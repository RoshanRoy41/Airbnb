<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Airbnb-like Listings</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"
    />
    <style>
      body {
        font-family: "Arial", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f2f2f2;
      }

      .listing-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        padding: 20px;
      }

      .listing-card {
        width: 300px;
        margin: 20px;
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .slick-prev,
      .slick-next {
        font-size: 24px;
        color: #e44d26;
      }

      .slick-prev:hover,
      .slick-next:hover {
        color: #333;
      }

      .slick-dots li button:before {
        color: #e44d26;
      }

      .listing-details {
        padding: 16px;
      }

      .listing-title {
        font-size: 1.2em;
        font-weight: bold;
        margin-bottom: 8px;
      }

      .listing-location {
        color: #666;
        margin-bottom: 8px;
      }

      .listing-price {
        color: #e44d26;
        font-size: 1.2em;
        font-weight: bold;
      }

      .image-carousel {
        width: 100%;
        height: 150px;
      }

      .slick-slider {
        margin: 0;
      }

      .slick-slide img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    </style>
  </head>
  <body>
    <div class="listing-container" id="listingContainer"></div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script>
      // Fetch data from the API
      fetch("https://mocki.io/v1/b485d0b6-8908-4a8a-8cfb-9ab6563f2d58")
        .then((response) => response.json())
        .then((data) => {
          // Render listings
          const listingContainer = document.getElementById("listingContainer");
          data.listings.forEach((listing, index) => {
            const listingCard = document.createElement("div");
            listingCard.className = "listing-card";

            const listingDetails = document.createElement("div");
            listingDetails.className = "listing-details";

            const listingTitle = document.createElement("div");
            listingTitle.className = "listing-title";
            listingTitle.textContent = listing.location;

            const listingLocation = document.createElement("div");
            listingLocation.className = "listing-location";
            listingLocation.textContent = listing.price;

            const listingPrice = document.createElement("div");
            listingPrice.className = "listing-price";
            listingPrice.textContent = `Price: ${listing.price}`;

            listingDetails.appendChild(listingTitle);
            listingDetails.appendChild(listingLocation);
            listingDetails.appendChild(listingPrice);

            const imageCarousel = document.createElement("div");
            imageCarousel.className = "image-carousel";
            imageCarousel.id = `carousel-${index}`;

            listing.images.forEach((imageUrl) => {
              const image = document.createElement("img");
              image.src = imageUrl;
              image.alt = "Listing Image";
              imageCarousel.appendChild(image);
            });

            listingCard.appendChild(listingDetails);
            listingCard.appendChild(imageCarousel);
            listingContainer.appendChild(listingCard);

            // Initialize Slick Carousel
            $(`#carousel-${index}`).slick({
              infinite: true,
              slidesToShow: 1,
              slidesToScroll: 1,
              prevArrow:
                '<button type="button" class="slick-prev">&#10094;</button>',
              nextArrow:
                '<button type="button" class="slick-next">&#10095;</button>',
              dots: true,
            });
          });
        })
        .catch((error) => console.error("Error fetching data:", error));
    </script>
  </body>
</html>
